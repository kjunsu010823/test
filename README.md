# 📦 AWS EC2 배포 관련 핵심 개념 정리

본 문서는 EC2 기반의 Spring Boot 서버 배포 및 CI/CD 실습을 진행하면서  
필수적으로 알아야 했던 주요 개념들을 정리한 내용입니다.  
(AWS + GitHub Actions + Docker 기반 실습)

---

## 🔐 1. 인바운드 규칙 (Inbound Rules)

> 인바운드 규칙은 EC2 또는 RDS 인스턴스로 **외부에서 들어오는 요청을 허용하는 방화벽 설정**입니다.

| 유형(Type)     | 프로토콜 | 포트 | 소스             | 설명                        |
|----------------|----------|------|------------------|-----------------------------|
| SSH            | TCP      | 22   | 내 IP            | EC2 인스턴스에 터미널 접속 |
| HTTP           | TCP      | 80   | 0.0.0.0/0        | 웹 브라우저 접속 허용      |
| Custom TCP     | TCP      | 8080 | 0.0.0.0/0        | Spring Boot 서버 포트      |
| MySQL/Aurora   | TCP      | 3306 | EC2 보안 그룹 ID | EC2 → RDS DB 접속 허용     |

> ⚠️ **0.0.0.0/0**: 전 세계에서 접근 가능 → 실습 OK, 운영 시에는 제한 권장  
> ✅ 보안 그룹에서 인바운드 규칙을 꼭 열어야 EC2나 RDS 접속이 가능합니다.

---

## 🧱 2. 보안 그룹 설정

> AWS에서 제공하는 **가상 방화벽 역할**.  
> EC2나 RDS가 **어떤 트래픽을 받을 수 있는지 설정**합니다.

- 인바운드(Inbound): 외부에서 인스턴스로 들어오는 요청
- 아웃바운드(Outbound): 인스턴스에서 외부로 나가는 요청 (기본 허용됨)

📍 보안 그룹 설정 위치:  
AWS 콘솔 → EC2 or RDS → 보안 그룹 → 인바운드 규칙 편집

---

## ⚙️ 3. 인스턴스 유형 (Instance Type)

> EC2 인스턴스는 CPU, 메모리, 네트워크 성능에 따라 여러 유형이 있음

| 유형 | 특징 | 용도 |
|------|------|------|
| `t2.micro` | 프리티어, 저사양 | 실습, 간단한 웹 서버 |
| `t3.micro` | t2보다 성능 향상 | 실습 + 가벼운 서비스 |
| `c5.large` | 고성능 CPU | 대규모 연산, 백테스트 |
| `r5.large` | 고용량 메모리 | DB 서버, 캐시 서버 |

✅ 실습용은 `t2.micro` 추천 (프리 티어 대상, 1vCPU + 1GB RAM)

---

## 🧬 4. AMI (Amazon Machine Image)

> EC2 인스턴스를 생성할 때 사용하는 **운영체제 + 초기설정 템플릿**

| AMI 이름 | 특징 | 추천 상황 |
|----------|------|-----------|
| **Amazon Linux 2023** | AWS 최적화, 빠름, 무료 | Spring, 실습 서버 |
| **Ubuntu 22.04** | 익숙한 리눅스, 자료 많음 | 리눅스 사용자, 패키지 설치 다양 |
| **Windows Server** | GUI, .NET 등 | 윈도우 환경 개발 |
| **Deep Learning AMI** | AI/ML 프레임워크 내장 | 딥러닝, 모델 학습 서버 |

✅ 실습용은 `Amazon Linux 2023` 추천 (yum 기반, AWS 최적화)

---

## 🐳 5. Docker

> Docker는 애플리케이션을 **컨테이너 단위로 격리 실행**할 수 있는 플랫폼입니다.

### 사용한 주요 기능

| 기능 | 설명 |
|------|------|
| Dockerfile | `.jar` 파일을 이미지로 만드는 설정 파일 |
| `docker build` | Docker 이미지 생성 |
| `docker run` | 컨테이너 실행 (포트 매핑 포함) |
| `docker stop/rm/rmi` | 기존 컨테이너/이미지 정리 |
| `docker ps` | 실행 중인 컨테이너 목록 확인 |
| GitHub Actions 연동 | 코드 푸시 → 자동 빌드 & 배포 파이프라인 구축 |

✅ `Docker + GitHub Actions + EC2` 조합으로 **완전 자동화된 배포**를 실현했습니다.

---

📌 이 문서는 EC2 기반 서버 배포 및 실습 환경 이해를 위한 기초 자료입니다.  
필요 시 `docker-compose`, Nginx 연동, CI/CD 고도화 등 확장 가능합니다.
